@import "~highlight.js/styles/atom-one-dark.css"    

@mixin box
    @apply bg-black bg-opacity-10 dark:bg-white dark:bg-opacity-[0.075]

@mixin interactive-box
    @apply hover:[&:not(:disabled)]:bg-opacity-[0.15] hover:dark:[&:not(:disabled)]:bg-opacity-10 focus:[&:not(:disabled)]:bg-opacity-[0.15] focus:dark:[&:not(:disabled)]:bg-opacity-10 outline-none

@tailwind base
@tailwind components
@tailwind utilities

@layer utilities
    .link
        @apply text-blue-600 hover:text-blue-500 dark:text-blue-500 dark:hover:text-blue-400 underline-offset-2

        &.link-contrast
            @apply dark:text-blue-400 dark:hover:text-blue-600

        &:hover
            @apply underline

@layer components
    .title
        &[id]
            @apply scroll-mt-24

        &:is(h1)
            @apply text-4xl lg:text-5xl font-black

            & + .subtitle
                @apply text-2xl font-light mt-2 text-neutral-500 dark:text-neutral-300

        &:is(h2)
            @apply text-2xl font-bold

            & + .subtitle
                @apply text-lg font-light text-neutral-500 dark:text-neutral-400

        &:is(h3)
            @apply text-lg font-bold
        
    .button
        @include box
        @include interactive-box
        @apply px-3 py-2 rounded disabled:text-neutral-500

    .select
        @include box
        @include interactive-box
        @apply px-3 py-2 rounded w-full appearance-none text-center cursor-pointer

    .input
        @include box
        @include interactive-box
        @apply px-3 py-2 rounded block font-mono w-full

    .card
        @include box
        @apply block p-5 rounded

        &.card-hover
            @include interactive-box

    .carbon
        & > *:not([id="carbonads"], .preview)
            @apply hidden

        .preview
            @include box
            @apply rounded flex items-center justify-center relative max-w-full font-ubuntu text-lg text-neutral-500 w-[420px] h-[132px]

        &:has([id="carbonads"]) .preview
            @apply hidden

    code
        @apply text-red-700 dark:text-red-400 font-mono

.flex *
    @apply min-w-0

#carbonads
    @include box
    @include interactive-box
    @apply rounded relative max-w-full font-ubuntu w-[420px]

    .carbon-wrap
        @apply flex

        .carbon-img
            @apply py-4 pl-4 min-w-[146px]

        .carbon-text
            @apply text-sm p-4
    
    .carbon-poweredby
        @apply absolute right-2 bottom-2 px-2 py-1 uppercase font-bold tracking-widest hover:text-blue-600 text-[8px]

:not(.button, .select, .input, .card-hover):is(:focus-visible)
    @apply outline-2 outline-offset-4 outline-black dark:outline-white outline-dashed